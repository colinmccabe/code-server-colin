#!/bin/sh

x11docker --nxagent --no-auth --user=RETAIN \
  -- \
  --cap-drop=ALL --security-opt=no-new-privileges \
  --tmpfs /tmp:exec \
  --tmpfs /home/dev/.IntelliJIdea2019.1:exec,uid=1000,gid=1000 \
  --mount type=bind,src="$(pwd)/$1/m2",dst=/home/dev/.m2 \
  --mount type=bind,src="$(pwd)/$1",dst=/home/dev/project \
  -- \
  intellij-dev:latest
